[
  {
    "objectID": "MappingLandslides.html",
    "href": "MappingLandslides.html",
    "title": "MappingLandslides",
    "section": "",
    "text": "In CoRegistration, we looked at how the frequency distribution of elevation differences between two sequential lidar DTMs, after coregistration, varied with both hillslope gradient and forest-stand height. We documented these variations using the interquartile range of elevation-difference values observed over increments of gradient and stand height. Based on these variations, we defined minimum level of detection (LoD) for elevation changes using Tukey fences: \\[ qmin = q_1 - k*(q_3-q_1); qmax = q_3 + k*(q_3-q_1) \\tag{1}\\] We used a value for \\(k\\) of 1.5 to set the \\(qmin\\) and \\(qmax\\) values to define the LoD. Note that \\(q_1\\) and \\(q_3\\), and the consequent \\(qmin\\) and \\(qmax\\), vary spatially with changes in hillslope gradient and stand height.\nEach cell in the DoD (DEM of difference) has an elevation-difference value \\(\\Delta e\\). Expanding on the concept of a Tukey fence, we calculate a \\(k\\) value as \\[ k = \\frac{\\Delta e - q_1}{(q_3-q_1)}, \\Delta e &lt; q_1 \\tag{2}\\] and \\[ k = \\frac{\\Delta e - q_3}{(q_3-q_1)}, \\Delta e &gt; q_3\\] For values within the interquartile range \\((q_1 &lt; \\Delta e &lt; q_3)\\), \\(k\\) is set to zero. For elevation loss, \\(k\\) is negative, and for elevation gain, \\(k\\) is positive. This provides a measure of where the value of \\(\\Delta e\\) at each DoD cell lies within the frequency distribution of all \\(\\Delta e\\) values. Areas with \\(k\\) values between -1.5 and +1.5 lie inside the LoD \\(qmin\\) and \\(qmax\\) values and contain most of the DoD area. The confidence with which we can interpret \\(\\Delta e\\) values as actual changes in elevation and not as random noise or errors increases as the magnitude of \\(k\\) increases.",
    "crumbs": [
      "Landslide Susceptibility",
      "Identifying landslides"
    ]
  },
  {
    "objectID": "MappingLandslides.html#introduction",
    "href": "MappingLandslides.html#introduction",
    "title": "MappingLandslides",
    "section": "",
    "text": "In CoRegistration, we looked at how the frequency distribution of elevation differences between two sequential lidar DTMs, after coregistration, varied with both hillslope gradient and forest-stand height. We documented these variations using the interquartile range of elevation-difference values observed over increments of gradient and stand height. Based on these variations, we defined minimum level of detection (LoD) for elevation changes using Tukey fences: \\[ qmin = q_1 - k*(q_3-q_1); qmax = q_3 + k*(q_3-q_1) \\tag{1}\\] We used a value for \\(k\\) of 1.5 to set the \\(qmin\\) and \\(qmax\\) values to define the LoD. Note that \\(q_1\\) and \\(q_3\\), and the consequent \\(qmin\\) and \\(qmax\\), vary spatially with changes in hillslope gradient and stand height.\nEach cell in the DoD (DEM of difference) has an elevation-difference value \\(\\Delta e\\). Expanding on the concept of a Tukey fence, we calculate a \\(k\\) value as \\[ k = \\frac{\\Delta e - q_1}{(q_3-q_1)}, \\Delta e &lt; q_1 \\tag{2}\\] and \\[ k = \\frac{\\Delta e - q_3}{(q_3-q_1)}, \\Delta e &gt; q_3\\] For values within the interquartile range \\((q_1 &lt; \\Delta e &lt; q_3)\\), \\(k\\) is set to zero. For elevation loss, \\(k\\) is negative, and for elevation gain, \\(k\\) is positive. This provides a measure of where the value of \\(\\Delta e\\) at each DoD cell lies within the frequency distribution of all \\(\\Delta e\\) values. Areas with \\(k\\) values between -1.5 and +1.5 lie inside the LoD \\(qmin\\) and \\(qmax\\) values and contain most of the DoD area. The confidence with which we can interpret \\(\\Delta e\\) values as actual changes in elevation and not as random noise or errors increases as the magnitude of \\(k\\) increases.",
    "crumbs": [
      "Landslide Susceptibility",
      "Identifying landslides"
    ]
  },
  {
    "objectID": "MappingLandslides.html#data",
    "href": "MappingLandslides.html#data",
    "title": "MappingLandslides",
    "section": "Data",
    "text": "Data\nFigure 1 below shows \\(k\\) values outside the LoD envelope for the 2006-2017 lidar overlap in the Post Mortem study area.\n\n\n\n\n\n\nFigure 1: k values calculated with @eq-k for the 2006-2017 lidar DTM overlap in the Post Mortem study area.\n\n\n\nAgradation along many low-gradient flood plains is evident from the yellow to red patches. Blue colors along some of the steeper stream courses indicate channel incision. Also shown in Figure 1 are the field-inventoried landslide locations from the Post Mortem study (Stewart et al. 2013). Figure 2 below shows the lower-right portion of the shaded-relief image in Figure 1. Zones of incision (green-blue) and agradation (orange-red) are visible along stream channels. Landslide scars (blue) and depositional zones (orange-red) are visible. Some of the excvated road benches and associated side cast constructed after 2006 also show up. There is also considerable noise; small blue and orange patches scattered about, particularly on the steeper slopes.\n\n\n\n\n\n\nFigure 2: The lower right portion of @fig-kvalues. The shaded relief is from 2017.\n\n\n\nWe want to see how k-value patches compare with the surveyed landslide locations. Can we distinguish the landslide signal from the noise? We implemented the following algorithm:\n\nIdentify contiguous patches where k &lt; -1.5, the gradient is &gt; 0.35, and accumulation area is &lt; 4000m2.\nFind the closest patch to each mapped landslide point within a 30-m radius. Exclude patches with an aspect more than 22 degrees different than that reported for the landslide.\nFor each matched patch, extend the patch to include adjacent zones with k &lt; -1.5, but without filtering for gradient. Some patches with k &lt;&lt; -1.5 included low-gradient zones that appeared to be contiguous with and part of the landslide scar.\nFrom the DoD, get the horizontal surface area and volume of each patch that is associated with a landslide point.\n\nThis algorithm is implemented in Program HuntLS.\n\n\nCode\nlibrary(TerrainWorksUtils)\nlibrary(stringr)\n\npath &lt;- \"c:\\\\work\\\\data\\\\postmortem\\\\\"\nDEM &lt;- paste0(path, \"elev_2006n.flt\")\nOutlier &lt;- paste0(path, \"outlierN0.flt\")\nDoD &lt;- paste0(path, \"difN0.flt\")\nAccum &lt;- paste0(path, \"accum_2006n.flt\")\nAccumThreshold &lt;- 1000.\nLSpnts &lt;- paste0(path, \"LS_pnts_N_edited.shp\")\nIDfield &lt;- \"OBJECTID\"\nRadius &lt;- 30.\nAspectLength &lt;- 30.\nGradLength &lt;- 10.\nOutlierThreshold &lt;- -1.5\nScratchDir &lt;- \"c:\\\\work\\\\scratch\"\nOutPatch &lt;- paste0(path, \"patch_30\")\nOutGrad &lt;- paste0(path, \"grad_10\")\nOutTable &lt;- paste0(path, \"table_1\")\nexecutable_dir &lt;- \"c:\\\\work\\\\sandbox\\\\landslideutilities\\\\projects\\\\HuntLS\\\\x64\\\\release\\\\\"\n\nif (!file.exists(paste0(OutTable, \"_match.csv\"))) {\n  returnCode &lt;- TerrainWorksUtils::huntLS(DEM,\n                                          Outlier,\n                                          DoD,\n                                          Accum,\n                                          AccumThreshold,\n                                          LSpnts,\n                                          IDfield,\n                                          Radius,\n                                          AspectLength,\n                                          GradLength,\n                                          OutlierThreshold,\n                                          ScratchDir,\n                                          OutPatch,\n                                          OutGrad,                                                                           OutTable,\n                                          executable_dir)\n\n  if (returnCode != 0) {\n    stop(\"Error in huntLS\")\n  }\n}\n\n\nHuntLS outputs a raster file of the mapped patches that matched the inventoried landslides based on proximity and aspect. It also outputs three comma-delimited (csv) files. The file names are derived from the “OutTable” variable specified in the code chunk above. The suffix distinguishes each file.\n\nOutTable_dist.csv. Each record gives the patch ID, the outlier value, and the hillslope gradient for each pixel within all patches matched to a surveyed landslide. This table provides the full frequency distribution of outlier (k) and gradient values included within all the matched patches.\nOutTable_match.csv. One record for each matched patch giving the dimensions reported for the field-surveyed landslide, the dimensions of the patch measured from the DoD, and the largest magnitude outlier and slope-gradient values within the patch.\nOutTable_nomatch.csv. One record for each surveyed landslide with no matching patch. This reports the field-reported dimensions of each landslide.\n\nWe use these tables to determine the frequency distribution of outlier and slope-gradient values associated with observed landslides. We hope to determine the smallest landslide scar that can be resolved with this DoD using the LoD envelope defined with program Align.\n\n\nCode\nlibrary(data.table)\nlibrary(ggplot2)\nlibrary(ggExtra)\nlibrary(patchwork)\n\nmatch &lt;- as.data.table(read.csv(paste0(OutTable, \"_match.csv\")))\nnomatch &lt;- as.data.table(read.csv(paste0(OutTable, \"_nomatch.csv\")))\nn_match &lt;- nrow(match)\nn_nomatch &lt;- nrow(nomatch)\n\n\nOf the {r}n_match+n_nomatch surveyed landslides, HuntLS matched {r}n_match. Figure 3 compares the field-surveyed and DoD-measured landslide scar areas.\n\n\nCode\nmatch_long &lt;- melt(match, id.vars = \"LSID\", \n                   measure.vars = c(\"LSarea\", \"Area\"),\n                   variable.name = \"Source\",\n                   value.name = \"Area\")\npbox &lt;- ggplot(match_long, aes(x=Source,y=Area, fill=Source)) + \n  geom_boxplot() + \n  scale_y_log10() +\n  scale_x_discrete(labels = c(\"Field Measured\", \"DoD Measured\")) +\n  scale_fill_discrete(name = element_blank(), \n                      labels = c(\"Field\", \"DoD\")) +\n  labs(title = \"Landslide Area Comparison\", \n       x = element_blank(), y = expression(Area~(m^2))) +\n  scale_y_log10(minor_breaks=scales::minor_breaks_n(10))\n\npscat &lt;- ggplot() +\n  geom_point(data=match, aes(x=LSarea, y=Area), size=2, alpha=0.5) +\n  scale_y_log10() +\n  scale_x_log10() +\n  labs(x = expression(Field~Measured~Area~(m^2)), \n       y = expression(DoD~Measured~Area~(m^2))) +\n  geom_smooth(data=match, aes(x=LSarea, y=Area), method = \"lm\") +\n  geom_abline(slope=1, intercept=0, linetype=\"dashed\", color=\"black\", linewidth=1.2) +\n  coord_fixed(ratio=.5) +\n  scale_x_log10(minor_breaks=scales::minor_breaks_n(10)) +\n  scale_y_log10(minor_breaks=scales::minor_breaks_n(10))\n  \npscat &lt;- ggMarginal(pscat)\n\npcompare &lt;- pbox / pscat\npcompare\n\n\n\n\n\n\n\n\nFigure 3: Comparison of field-measured and DoD-measured landslide areas. The boxplot shows the distribution of areas for the two sources. The scatterplot shows the relationship between the two sources. The solid blue line is a linear regression fit to the data. The dashed black line is a 1:1 line. The black lines above and to the right indicate relative point densities.\n\n\n\n\n\nObserved landslide-scar areas span a large range, from {r}match[,min(LSarea)] to {r}match[,max(LSarea)] m2. The DoD outlier-patch areas go from a minimum of {r}match[,min(Area)] to a maximum of {r}match[,max(Area)] m2. The smallest outlier patches may be under estimated, because the patch extended only to outlier values of -1.5 or less, not to all DoD values less than zero contiguous with the patch. In general, the DoD-measured patches tend to be larger than the field-estimated landslide scar size and larger outlier patches correspond to larger field-estimated landslide areas, but with a lot of scatter. Figure 4 below compares the field-surveyed and DoD-measured landslide volumes.\n\n\nCode\nmatch_longv &lt;- melt(match, id.vars = \"LSID\", \n                   measure.vars = c(\"LSvolume\", \"Volume\"),\n                   variable.name = \"Source\",\n                   value.name = \"Volume\")\npboxv &lt;- ggplot(match_longv, aes(x=Source,y=Volume, fill=Source)) + \n  geom_boxplot() + \n  scale_y_log10() +\n  scale_x_discrete(labels = c(\"Field Measured\", \"DoD Measured\")) +\n  scale_fill_discrete(name = element_blank(), \n                      labels = c(\"Field\", \"DoD\")) +\n  labs(title = \"Landslide Volume Comparison\", \n       x = element_blank(), y = expression(Volume~(m^3))) +\n  scale_y_log10(minor_breaks=scales::minor_breaks_n(10))\n\npscatv &lt;- ggplot() +\n  geom_point(data=match, aes(x=LSvolume, y=Volume), size=2, alpha=0.5) +\n  scale_y_log10() +\n  scale_x_log10() +\n  labs(x = expression(Field~Measured~Volume~(m^3)), \n       y = expression(DoD~Measured~Volume~(m^3))) +\n  geom_smooth(data=match, aes(x=LSvolume, y=Volume), method = \"lm\") +\n  geom_abline(slope=1, intercept=0, linetype=\"dashed\", color=\"black\", linewidth=1.2) +\n  coord_fixed(ratio=.5) +\n  scale_x_log10(minor_breaks=scales::minor_breaks_n(10)) +\n  scale_y_log10(minor_breaks=scales::minor_breaks_n(10))\n  \npscatv &lt;- ggMarginal(pscatv)\n\npcomparev &lt;- pboxv / pscatv\npcomparev\n\n\n\n\n\n\n\n\nFigure 4: Comparison of field-measured and DoD-measured landslide volumes. The boxplot shows the distribution of volumes for the two sources. The scatterplot shows the relationship between the two sources. The solid blue line is a linear regression fit to the data. The dashed black line is a 1:1 line. The black lines above and to the right indicate relative point densities.\n\n\n\n\n\nThe volumes measured from the DoD match the field-estimated volumes a bit better than the scar areas matched.\n\n\nCode\nmatch_longd &lt;- melt(match, id.vars = \"LSID\", \n                   measure.vars = c(\"LSmaxDepth\", \"MaxDepth\"),\n                   variable.name = \"Source\",\n                   value.name = \"MaxDepth\")\npboxd &lt;- ggplot(match_longd, aes(x=Source,y=abs(MaxDepth), fill=Source)) + \n  geom_boxplot() + \n  scale_x_discrete(labels = c(\"Field Measured\", \"DoD Measured\")) +\n  scale_fill_discrete(name = element_blank(), \n                      labels = c(\"Field\", \"DoD\")) +\n  labs(title = \"Landslide Maximum Depth Comparison\", \n       x = element_blank(), y = expression(Depth~(m)))\n\npscatd &lt;- ggplot() +\n  geom_point(data=match, aes(x=LSmaxDepth, y=abs(MaxDepth)), size=2, alpha=0.5) +\n  labs(x = expression(Field~Measured~Depth~(m)), \n       y = expression(DoD~Measured~Depth~(m))) +\n  geom_smooth(data=match, aes(x=LSmaxDepth, y=abs(MaxDepth)), method = \"lm\") +\n  geom_abline(slope=1, intercept=0, linetype=\"dashed\", color=\"black\", linewidth=1.2) +\n  coord_cartesian(x=c(0,10),y=c(0,10)) \n\n  \npscatd &lt;- ggMarginal(pscatd)\n\npcompared &lt;- pboxd / pscatd\npcompared\n\n\n\n\n\n\n\n\nFigure 5: Comparison of field-measured and DoD-measured maximum scar depths. The boxplot shows the distribution of depths for the two sources. The scatterplot shows the relationship between the two sources. The solid blue line is a linear regression fit to the data. The dashed black line is a 1:1 line. The black lines above and to the right indicate relative point densities.\n\n\n\n\n\nAt least for this case, the frequency distributions of maximum depths are similar, and there is a general trend for the deeper DoD-measured depths to correspond to deeper field-measured depths, but with much scatter.\nI am unsure how much concern to place in the scatter in the scatter plots above. There is some variability between field observers, as described in (Miskovic and Powell 2009). There is also uncertainty in the areas and volumes measured from the DoD, which we can account for when calculating the size of DoD-inventoried landslides.\nWhat about the field-observed landslides that we were unable to resolve from the DoD?",
    "crumbs": [
      "Landslide Susceptibility",
      "Identifying landslides"
    ]
  },
  {
    "objectID": "MappingLandslides.html#thresholds",
    "href": "MappingLandslides.html#thresholds",
    "title": "MappingLandslides",
    "section": "Thresholds",
    "text": "Thresholds\nThese results using program HuntLS suggests that we can use the outlier raster to identify potential landslide scars. We can use the outlier patches that matched field-surveyed landslides to characterize the frequency distribution of outlier and slope gradient values within a landslide patch. Our goal is to identify threshold values that can be used to filter the patches to include those most likely to be associated with landslides.\nIn Figure 6 below, we show box plots of the maximum outlier k value for each patch and the slope gradient at the DoD cell with that maximum maximum k value.\n\n\nCode\ndata &lt;- as.data.table(read.csv(paste0(OutTable, \"_outlierSlope.csv\")))\n# clip out extreme values\ndata &lt;- data[Outlier &gt; -30 & Slope &lt; 1.2,]\npbox1 &lt;- ggplot(data, aes(x=\"MaxOutlier\", y=Outlier)) + \n  geom_boxplot() +\n  theme(legend.position = \"inside\",\n        legend.position.inside = c(0.5, 0.3),\n        legend.title = element_blank(),\n        axis.title.x = element_blank()) +\n  labs(title=\"Maximum Outlier (abs(k)) value\",\n       subtitle = \"In each patch\",\n       y=\"Outlier (k)\")\npbox2 &lt;- ggplot(data, aes(x=\"MaxOutlier\", y=Slope)) + \n  geom_boxplot() + \n  theme(legend.position = \"inside\",\n        legend.position.inside = c(0.4, 0.8),\n        legend.title = element_blank(),\n        axis.title.x = element_blank()) +\n  labs(title = \"Slope Gradient\",\n       subtitle = \"At the maximum outlier point\",\n       y = \"Slope Gradient\") +\n  scale_y_continuous(labels = scales::percent)\npboxes &lt;- pbox1 + pbox2\npboxes\n\n\n\n\n\n\n\n\nFigure 6: Box and whisker plots of patch outlier and slope values. The left panel shows the maximum absolute outlier (k) value within each patch. The right panel shows the slope gradient at the DoD cell where the maximum outlier occurs.\n\n\n\n\n\nThe outlier raster produced by program Align only plotted k values outside the range of -1.5 to +1.5. We are looking for elevation losses, negative k values, so the maximum absolute k value can be no less than 1.5. A scatter plot with marginal density plots of the values is shown in Figure 7 below. Modal values lie around -10 for k and 65% for gradient, but the distribution of values extend broadly on either side.\n\n\nCode\npscat &lt;- ggplot(data[Type==\"MaxOutlier\",], aes(x=Outlier, y=Slope)) + \n  geom_point(size=1.6, alpha=0.6) +\n  theme(legend.position = \"inside\",\n        legend.position.inside = c(0.2, 0.8),\n        legend.title = element_blank()) +\n  scale_x_continuous(breaks = seq(-30, 0, by = 5)) +\n  scale_y_continuous(labels = scales::percent) +\n  coord_cartesian(x=c(-30,0), y=c(0.2,1.0)) +\n  labs(x = \"Outlier (k)\")\npscat &lt;- ggMarginal(pscat)\npscat\n\n\n\n\n\n\n\n\nFigure 7: Scatter plot of maximum negative outlier (k) values and slope gradients at the maximum outlier point. The black lines above and to the right indicate relative point densities.\n\n\n\n\n\nFigure 8 below shows cumulative frequency distributions of the maximum negative outlier (k) values from each patch and of the slope gradients at the maximum negative outlier points.\n\n\nCode\npcum_outlier &lt;- ggplot(data[Type==\"MaxOutlier\", ], aes(x=Outlier)) + \n  stat_ecdf(geom=\"step\", linewidth = 0.8) +\n  coord_cartesian(x=c(-30,0)) +\n  scale_x_continuous(breaks = seq(-30, 0, by = 5)) +\n  scale_y_continuous(labels = scales::percent) +\n  labs(x = \"Outlier (k) value\",\n       y = \"Proportion of patches\",\n       title = \"Cumulative frequency of maximum negative outlier values\") \npcum_slope &lt;- ggplot(data[Type==\"MaxOutlier\", ], aes(x=Slope)) + \n  stat_ecdf(geom=\"step\", linewidth = 0.8) +\n  coord_cartesian(x=c(0.2,1.0)) + \n  scale_x_continuous(labels = scales::percent) +\n  scale_y_continuous(labels = scales::percent) +\n  labs(x = \"Slope Gradient\",\n       y = \"Proportion of patches\",\n       title = \"Cumulative frequency of slope gradient at maximum negative outlier point\")\npcum &lt;- pcum_outlier / pcum_slope\npcum\n\n\n\n\n\n\n\n\nFigure 8: Cumulative frequency of maximum negative outlier (k) values (upper panel) and slope gradients at the maximum negative outlier point (lower panel).\n\n\n\n\n\nTo include all the patches matched to inventoried landslides, we would need to set a threshold for k at -1.5 and for slope gradient no greater than 21%. We can use the cumulative distribution curves in Figure 8 to determine what proportion of the matched landslide points different threshold values would preclude. Using these threshold values to flag patches as candidate landslide sites, we would include 145 of the 151 inventoried landslides in the study area used here, but we would also include many patches that are not landslides. Setting lower thresholds for k (e.g., -10) and higher thresholds for gradient (e.g., 40%) would give us greater confidence that flagged patches are associated with landslides, but would also miss some proportion of actual landslide sites. We will experiment with these thresholds now, but may find that we need to include other factors. For example, we could set different threshold values for different landforms, e.g., inner gorges, terrace margins, hollows, planar slopes, divergent slopes, ridges.\nProgram LShunter will read the DoD and outlier rasters created by program Align and a gradient raster created by program HuntLS. (LShunter uses the gradient raster created by HuntLS because gradient values depend on the length scale over which they are measured and we want to ensure that the same gradients are used here as in HuntLS).\n\n\nCode\n# LShunter can use the same DoD, Outlier, OutGrad, and Accum inputs as HuntLS, \n# so we won't repeat those here.\nthreshold1 &lt;- -5.0\nthreshold2 &lt;- -1.5\nmin1 &lt;- 0.2\nmin2 &lt;- 0.1\nmaxAccum1 &lt;- 1000.\nmaxAccum2 &lt;- 1000.\nminSize &lt;- 10. # minimum patch size, see figures above\nOutPatch &lt;- paste0(path, \"patch_test\")\nOutGrad &lt;- paste0(OutGrad, \".flt\")\nScratchDir &lt;- \"c:\\\\work\\\\scratch\"\nexecutable_dir &lt;- \"c:/work/sandbox/landslideutilities/projects/LShunter/x64/release\"\n\n#returnCode &lt;- TerrainWorksUtils::LShunter(\n#    Outlier,\n#    threshold1,\n#    threshold2,\n#    OutGrad,\n#    min1,\n#    min2,\n#    Accum,\n#    maxAccum1,\n#    maxAccum2,\n#    minSize,\n#    OutPatch,\n#    ScratchDir,\n#    executable_dir) \n\n#if (returnCode != 0) {\n#  return(returnCode)\n#  stop(\"Error in LShunter\")\n#}",
    "crumbs": [
      "Landslide Susceptibility",
      "Identifying landslides"
    ]
  },
  {
    "objectID": "Coregistration.html",
    "href": "Coregistration.html",
    "title": "Coregistration",
    "section": "",
    "text": "Our goal is to identify landslide sites using changes in ground-surface elevation resolved between sequential aerial lidar acquisitions. We could work with the lidar point clouds directly for this task, but we would like to take advantage of raster-processing algorithms for image segmentation and topographic analyses, so we want to evaluate the potential of working with the raster DTMs derived from the lidar point-cloud ground returns. Specifically, we here evaluate elevation-difference rasters, referred to as “DEMs of Difference (DoDs)” (R. D. Williams 2012). A DoD is obtained by subtracting one DTM1 from another.\nIn using two (or more) lidar data sets to detect elevation change, it is necessary to ensure that the data sets are spatially aligned (Cucchiaro et al. 2020). Differences in spatial registration will produce systematic errors in measured elevation differences. In the study design, we described approaches that have been used for co-registration of lidar datasets. These involve two strategies:\n\nCo-register the lidar point-cloud ground returns, then build the two DTMs.\nBuild the two DTMs, then coregister one DTM to align with the other.\n\nThe first approach seems likely to be the more consistent of the two, because consistent methods can be used for filtering ground returns from both point clouds and for interpolation of the DTMs from the ground returns. When using existing DTMs, e.g., those downloaded from the Washington Lidar Portal, they may have been generated with different point-filtering algorithms and interpolation schemes. However, working with point clouds directly is computationally intensive and time consuming. If we can obtain good results with the existing DTMs, that will reduce time and computer requirements (Li et al. 2023).\nBoth approaches must address errors in the two lidar data sets. Besides the systematic errors associated with differences in the spatial registration of the point clouds and resulting DTMs, sources of error include uncertainty in the elevation and location of each laser-signal reflection represented by points in the point cloud, laser reflections from vegetation interpreted as ground returns, and uncertainty as to what the elevation is in between ground-return locations. These errors and uncertainties carry through to a DTM built by interpolating from the ground-return points to a DTM grid. The DoD obtained by subtracting one DTM from another will include the combined effects of the errors and uncertainties in both DTMs.\nThe magnitude of these errors and uncertainty affect the confidence we can place in inferences made using the DTMs and the resulting DoD. We need to account for this uncertainty when coregistering one DTM to the other and when mapping landslide scars and deposits using the DoD. A common way to account for this uncertainty is by determining a “minimum level of detection” (LoD) (e.g., Wheaton et al. 2010). The LoD is generally set so that we can assume a specified level of confidence that DoD values greater than the LoD represent actual changes in ground-surface elevation. Differences less than the LoD fall within the range of inherent noise in the DoD and may or may not represent true changes in ground elevation.\nIn the next sections we describe a method for estimating an LoD value and using it to guide co-registration of the two DTMs and identification of landslide scars and deposits.",
    "crumbs": [
      "Landslide Susceptibility",
      "Aligning DEMs: Coregistration"
    ]
  },
  {
    "objectID": "Coregistration.html#sec-CanopyEffects",
    "href": "Coregistration.html#sec-CanopyEffects",
    "title": "Coregistration",
    "section": "Canopy effects.",
    "text": "Canopy effects.\nSee Figure 13 below. The left panel shows elevation differences draped on a shaded relief image for a portion of the overlapping 2006 and 2017 DTMs after coregistration; the right panel shows an aerial photo view of the same area. Over the low-gradient, low-relief, and unforested fields and pastures, differences between the two DTMs are minor. Over the forested hillslopes, the speckled pattern in the left panel indicates variability in DTM elevations on the order of several tens of centimeters over horizontal length scales of a few to ten meters, consistent with a general reduction of lidar DTM accuracy observed over forested areas (Simpson, Smith, and Wooster 2017).\n\n\n\n\n\n\nFigure 13: The left panel shows differences in DTM elevations after coregistration. The right panel shows an aerial photo view of the same area.\n\n\n\nThere are two likely primary reasons for the increased variability over forested areas (Petras et al. 2023):\n\nIncreased spacing of lidar ground returns because of reflections from the forest canopy, and\nInterpretation of canopy reflections as ground returns.\n\nThe first of these is illustrated in Figure 14 and Figure 15 below.\n\n\n\n\n\n\nFigure 14: The left panel shows the number of lidar ground returns within each cell of the 2006 DTM (3-foot DTM point spacing). The right panel zooms into the area within the box of the left panel. Black dots indicate ground returns.\n\n\n\n\n\n\n\n\n\nFigure 15: The left panel shows the ground-return point density for the 2006 lidar measured over a 7.5-m radius. The right panel shows an areal view of the area in the summer of 2006. Low point densities (blues) align with unforested fields and clearcuts.\n\n\n\nVariation in ground-return spacing results in variable-sized gaps with no returns and variable spatial density in the number of signals per DTM cell. The bar chart in Figure 16 below shows the proportion of all cells in the 2006 DTM that overlapped the 2017 DTM containing a given number of ground returns.\n\n\n\n\n\n\n\n\nFigure 16: Proportion of 2006 DTM cells with a given number of ground returns\n\n\n\n\n\nThe variable spacing between ground returns results in variable lengths over which elevations are interpolated to the DTM grid points. Topographic detail between ground-return points is lost. The gaps in ground return points will differ between the two DTMs. In rough terrain, small features resolved in one DTM might thus be missed in the other, resulting in differences in the interpolated ground elevations.\nA variety of factors can result in variable lidar point spacing (Yan 2023; Petras et al. 2023). For example, the systematic north-west to south-east trending variations in point density visible in the left panel may result from differences in the extent of swath overlap between adjacent flight lines as the lidar was collected. Random variations in point density in forested areas may result from spatial variability in the proportion of laser signals that penetrate through the tree canopy. Additionally, some of the ground returns may actually be misinterpreted reflections from tree canopy or understory vegetation, which introduces random errors into the DTM elevations.\nAfter coregistration of the 2006 and 2017 DTMs, we found that variability in elevation differences, as measured by the interquartile range (Figure 9) ranged from about 10 to 30 centimeters, increasing with increasing hillslope gradient. Figure 17 below shows the same data, but here parsed by hillslope gradient and tree-canopy height. Canopy height was determined in program Align after shifting the 2017 DSM4 by subtracting the DTM elevation from the DSM elevation at each grid point and using the maximum of the 2006 or 2017 canopy heights.\n\n\n\n\n\n\n\n\nFigure 17: Variation of the interquartile range with changes in canopy height and hillslope gradient.\n\n\n\n\n\nThe upper panel in Figure 17 shows the increase in interquartile range with hillslope gradient; the lower panel shows a slight increase in interquartile range with canopy height. To characterize the combined hillslope-gradient and canopy-height dependence, we fit the \\(q_1\\) and \\(q_3\\) values over all gradient-canopy height bins with an equation quadratic in both canopy height H and hillslope gradient \\(\\theta\\):\n\\[\nq = (\\beta_0 + \\beta_1 \\theta + \\beta_2 \\theta^2) + (\\beta_3 + \\beta_4 H + \\beta_5 H^2) + \\beta_6 H \\theta + \\beta_7H^2\\theta + \\beta_8H\\theta^2 + \\beta_9H^2\\theta^2\n\\tag{4}\\]Figure 18 below shows the interquartile range and Tukey fences as functions of canopy height for a range of gradient interval. The black circles show \\(q_1\\) and \\(q_3\\) from the binned \\(\\Delta e\\) values, the thin black lines show the curves fit to the \\(q_1\\) and \\(q_3\\) values using Equation 4, and the thick black lines show the Tukey fences with \\(k=1.5\\).\n\n\n\n\n\n\n\n\nFigure 18: The interquartile range and LoD (Tukey’s fences with k=1.5) plotted as a function of canopy height for different increments in hillslope gradient.\n\n\n\n\n\nFigure 19 below shows the same data, but plotted as a function of hillslope gradient.\n\n\n\n\n\n\n\n\nFigure 19: The interquartile range and LoD (Tukey’s fences with k=1.5) plotted as a function of hillslope gradient for different increments in canopy height.\n\n\n\n\n\nVariability in the range of elevation differences varies with both hillslope gradient and forest-canopy height. These curves account for both effects.\nWe are using the LoD defined by these graphs to identify “stable” locations where elevations have probably not changed between the 2006 and 2017 lidar acquisitions. We used the elevation differences over these stable locations to solve for the horizontal (\\(\\Delta x, \\Delta y\\)) and vertical (\\(\\Delta z\\)) shifts needed to bring the 2017 DTM into alignment with the 2006 DTM, using Equation 2. The range spanned by this LoD, ± 0.5m, is sufficient, however, to include things like flood plain or fan aggradation.\nThere may stil be systematic biases in the random errors associated with lidar signal reflections from vegetation interpreted as ground returns. A plantation that grows 2 meters over that 11 years may generate larger mean positive errors in 2017 DTM elevations than in 2006 DTM elevations, resulting in a positive bias in elevation differences measured over that area. Likewise, an area harvested between 2006 and 2017 will generate a negative bias. Figure 20 below shows quartiles of \\(\\Delta e\\) measured over 5-meter increments of canopy-height change between 2006 and 2007. Negative \\(\\Delta H\\) values indicate a loss of canopy (timber harvest) or vegetation (mowing of a pasture). Positive values indicate canopy or vegetation growth.\n\n\n\n\n\n\n\n\nFigure 20: First, second, and third quartiles of Δe for increments of change in canopy height (ΔH) between 2006 and 2007.\n\n\n\n\n\nWe see a slight trend for increasing \\(\\Delta e\\) values moving from negative to positive \\(\\Delta H\\) values. This is consistent with the expectation that a loss of canopy (negative \\(\\Delta H\\)) will generate a negative bias and that canopy growth will generate a positive bias. The deviation is small, on the order of 5 cm. However, this observation prompted inclusion of the \\(\\Delta H\\) term in Equation 2.\nNext: identify landslide scars using the DoD.",
    "crumbs": [
      "Landslide Susceptibility",
      "Aligning DEMs: Coregistration"
    ]
  },
  {
    "objectID": "Coregistration.html#footnotes",
    "href": "Coregistration.html#footnotes",
    "title": "Coregistration",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nThe terms “DEM”, for Digital Elevation Model, and “DTM”, for Digital Terrain Model, are not used consistently in the literature (e.g., see Wikipedia). We are using the term “DTM” because that is the term used on the Washington Lidar Portal. These DTMs are intended to represent the ground surface with all overlying vegetation and buildings removed.↩︎\nOne quarter of all \\(\\Delta e\\) values are less or equal to \\(q_1\\), half are less than or equal to \\(q_2\\) (which is also the median value), three quarters are less than or equal to \\(q_3\\), and \\(q_4\\) is the maximum value.↩︎\nProgram Align is included in the Netstream suite of Fortran programs.↩︎\nA DSM is a Digital Surface Model. It indicates the elevation of the 1st laser-signal returns. By subtracting the DTM from the DSM, we obtain a measure of the forest-canopy height. The DSMs were generated from the same lidar point clouds as used for the DTMs and were downloaded from the Washington Lidar Portal.↩︎",
    "crumbs": [
      "Landslide Susceptibility",
      "Aligning DEMs: Coregistration"
    ]
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "Landslide Susceptibility",
    "section": "",
    "text": "We seek to capitalize on newly available data products and analysis tools to re-evaluate the methods used to identify potentially unstable slopes during timber-management activities in Washington. Not that there is necessarily anything wrong with the current rules, but since their development we have access to a variety of new data sets that may serve to better resolve factors influencing landslide susceptibility. These include:\n\nlidar-derived DEMs,\nhigh-resolution land-cover\nforest origin-year data\ngridded daily precipitation data\n\nOur intentions for using these data are described in the Study Design.\nWe will post documents and data sets describing our progress on this web site. The documents can be viewed in your web browser and also downloaded in Microsoft Word or pdf formats. We are working to develop an efficient protocol for receiving and documenting comments and edits from project team members and other reviewers of this content.\nDan and Elise",
    "crumbs": [
      "Landslide Susceptibility",
      "Introduction"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "The Unstable Slopes Criteria Project",
    "section": "",
    "text": "This website serves as a document repository for communication between members of the Unstable Slopes Criteria (USC) project team, UPSAG, CMER, and Neptune. With the USC project, we are evaluating the criteria used to identify locations where timber-management activities might alter susceptibility to shallow landslide initiation and runout extent. This project consists of several sequential phases, described in the Unstable Slopes Criteria scoping document:\n\nObject-based landform mapping\nEmpirical evaluation of shallow landslide susceptibility, frequency, and runout by landform\nModels to identify landscapes/landslides most susceptibility to management.\n\nHere we document ongoing work for the second phase of the project. We are following the strategy outlined in the study design, although our methods may evolve as we progress.\nThis website describes a work in progress. Because the methods and results are still under review by the project team and have not been approved or finalized, please do not share the URL for this website."
  }
]